# Copy this file to installation/config.env and adjust values.

# -----------------------------
# Global
# -----------------------------
INSTALL_PREREQS=true
INSTALL_POSTGRES=true
INSTALL_API=true
INSTALL_ADMIN=true
INSTALL_NGINX=false

# Pull latest code during install/update steps when repo has .git
GIT_UPDATE=true
DEPLOY_BRANCH=main

# Repo path (relative to installation/ or absolute)
REPO_ROOT=/opt/coziyoo
INGRESS_MODE=npm
NPM_INSTALL_DIR=/root/nginx-proxy-manager
NPM_HTTP_PORT=80
NPM_HTTPS_PORT=443
NPM_UI_PORT=81

# -----------------------------
# Paths (relative to REPO_ROOT unless absolute)
# -----------------------------
API_DIR=.
ADMIN_DIR=admin-panel
ADMIN_PUBLISH_DIR=/var/www/coziyoo-admin
ADMIN_SERVICE_NAME=coziyoo-admin
ADMIN_PORT=8000
ADMIN_API_BASE_URL=https://api.coziyoo.com

# -----------------------------
# API (Node.js + Express)
# -----------------------------
API_SERVICE_NAME=coziyoo-api
API_RUN_USER=root
API_RUN_GROUP=root
API_ENV_FILE=/opt/coziyoo/.env
API_PORT=3000
API_START_CMD="node dist/src/server.js"
SEED_ADMIN_EMAIL=admin@coziyoo.com
SEED_ADMIN_PASSWORD=12345
# Optional override for API CORS allowlist (comma-separated origins)
# API_CORS_ALLOWED_ORIGINS=https://admin.coziyoo.com,http://admin.coziyoo.com

# -----------------------------
# Nginx
# -----------------------------
ADMIN_DOMAIN=admin.coziyoo.com
API_DOMAIN=api.coziyoo.com
API_PROXY_PORT=3000

# -----------------------------
# Optional PostgreSQL bootstrap
# -----------------------------
PG_DB=coziyoo
PG_USER=coziyoo
PG_PASSWORD=coziyoo
